/**
 * ã‚²ãƒ¼ãƒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« - SFãƒŸãƒƒã‚·ãƒ§ãƒ³
 * ====================================
 * ã“ã“ã§ã»ã¼ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´ã§ãã¾ã™
 * å¤‰æ›´å¾Œã¯ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„
 */

const GAME_CONFIG = {
    // ===== ã‚²ãƒ¼ãƒ åŸºæœ¬è¨­å®š =====
    game: {
        title: 'SF ãƒŸãƒƒã‚·ãƒ§ãƒ³',              // ã‚²ãƒ¼ãƒ ã‚¿ã‚¤ãƒˆãƒ«
        subtitle: 'å”åŠ›ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°',       // ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«
        version: '1.0.0',                    // ãƒãƒ¼ã‚¸ãƒ§ãƒ³
        targetFPS: 60,                       // ç›®æ¨™FPS
        pauseOnBlur: false,                  // ã‚¿ãƒ–éã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã«ãƒãƒ¼ã‚º
    },

    // ===== ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¨­å®š =====
    player: {
        // ç§»å‹•
        speed: 5,                            // ç§»å‹•é€Ÿåº¦
        acceleration: 1.0,                   // åŠ é€Ÿåº¦ï¼ˆ1.0 = å³æ™‚ï¼‰

        // ä½“åŠ›
        maxHp: 100,                          // æœ€å¤§HP
        startingHp: 100,                     // é–‹å§‹æ™‚HP
        hpRegenRate: 0,                      // HPè‡ªå‹•å›å¾©é‡ï¼ˆ/ç§’ï¼‰
        invincibleTimeAfterHit: 500,         // è¢«å¼¾å¾Œã®ç„¡æ•µæ™‚é–“ï¼ˆmsï¼‰

        // æ”»æ’ƒ
        shotInterval: 500,                   // å°„æ’ƒé–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰
        shootWhileMoving: false,             // ç§»å‹•ä¸­ã‚‚å°„æ’ƒã™ã‚‹ã‹
        autoShoot: true,                     // è‡ªå‹•å°„æ’ƒ

        // ãƒªã‚¹ãƒãƒ¼ãƒ³
        respawnTime: 5,                      // ãƒªã‚¹ãƒãƒ¼ãƒ³æ™‚é–“ï¼ˆç§’ï¼‰
        clearEnemiesOnRespawn: true,         // ãƒªã‚¹ãƒãƒ¼ãƒ³æ™‚ã«æ•µã‚’ã‚¯ãƒªã‚¢

        // è¦‹ãŸç›®
        size: 50,                            // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚µã‚¤ã‚º
        glowIntensity: 20,                   // ã‚°ãƒ­ãƒ¼å¼·åº¦
    },

    // ===== å¼¾ä¸¸è¨­å®š =====
    bullet: {
        speed: 10,                           // å¼¾é€Ÿ
        size: 4,                             // å¼¾ã®ã‚µã‚¤ã‚ºï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰
        hitRadius: 20,                       // å½“ãŸã‚Šåˆ¤å®šã®åŠå¾„
        lifeTime: 0,                         // å¼¾ã®å¯¿å‘½ï¼ˆ0 = ç”»é¢å¤–ã¾ã§ï¼‰
        piercing: false,                     // è²«é€šã™ã‚‹ã‹

        // å°„æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³
        pattern: '4way',                     // '4way', '8way', 'spread', 'single'
        spreadAngle: 15,                     // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ™‚ã®è§’åº¦
        bulletsPerShot: 4,                   // 1å›ã®å°„æ’ƒã§ç™ºå°„ã™ã‚‹å¼¾æ•°

        // è¦‹ãŸç›®
        color: '#00f3ff',                    // å¼¾ã®è‰²
        glowIntensity: 10,                   // ã‚°ãƒ­ãƒ¼å¼·åº¦
        trailEnabled: false,                 // è»Œè·¡ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’æœ‰åŠ¹åŒ–
    },

    // ===== æ•µè¨­å®š =====
    enemy: {
        // åŸºæœ¬ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
        baseSpeed: 1.5,                      // åŸºæœ¬ç§»å‹•é€Ÿåº¦
        speedVariation: 0.5,                 // é€Ÿåº¦ã®ãƒ©ãƒ³ãƒ€ãƒ å¤‰å‹•å¹…
        maxCount: 30,                        // æ•µã®æœ€å¤§æ•°
        hp: 1,                               // æ•µã®HPï¼ˆå¼¾ä½•ç™ºã§å€’ã›ã‚‹ã‹ï¼‰

        // ãƒ€ãƒ¡ãƒ¼ã‚¸
        damage: 10,                          // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¸ã®ãƒ€ãƒ¡ãƒ¼ã‚¸
        damageOnDeath: false,                // æ­»äº¡æ™‚ã«ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹ã‹
        knockbackPlayer: false,              // ãƒãƒƒã‚¯ãƒãƒƒã‚¯ã•ã›ã‚‹ã‹

        // å½“ãŸã‚Šåˆ¤å®š
        hitRadius: 30,                       // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã®å½“ãŸã‚Šåˆ¤å®šåŠå¾„
        bulletHitRadius: 20,                 // å¼¾ä¸¸ã¨ã®å½“ãŸã‚Šåˆ¤å®šåŠå¾„

        // AIè¡Œå‹•
        aiType: 'chase',                     // 'chase', 'wander', 'patrol'
        chaseSpeed: 1.0,                     // è¿½è·¡é€Ÿåº¦å€ç‡
        detectionRange: 0,                   // æ¤œçŸ¥ç¯„å›²ï¼ˆ0 = ç„¡é™ï¼‰

        // ã‚¹ã‚³ã‚¢
        scoreValue: 100,                     // æ’ƒç ´æ™‚ã®ã‚¹ã‚³ã‚¢
        scoreMultiplierOnKill: 1.0,          // ã‚¹ã‚³ã‚¢å€ç‡

        // è¦‹ãŸç›®
        size: 40,                            // ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚µã‚¤ã‚º
        glowColor: '#ff3333',                // ã‚°ãƒ­ãƒ¼è‰²
        glowIntensity: 15,                   // ã‚°ãƒ­ãƒ¼å¼·åº¦
    },

    // ===== ã‚¹ãƒãƒ¼ãƒ³è¨­å®š =====
    spawn: {
        // åŸºæœ¬è¨­å®š
        enabled: true,                       // ã‚¹ãƒãƒ¼ãƒ³ã‚’æœ‰åŠ¹åŒ–
        initialRate: 2000,                   // åˆæœŸã‚¹ãƒãƒ¼ãƒ³é–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰
        minRate: 500,                        // æœ€å°ã‚¹ãƒãƒ¼ãƒ³é–“éš”ï¼ˆé›£æ˜“åº¦ä¸Šé™ï¼‰
        rateDecrease: 5,                     // æ¯ã‚¹ãƒãƒ¼ãƒ³æ¯ã«æ¸›å°‘ã™ã‚‹é–“éš”

        // ä½ç½®
        spawnOffset: 50,                     // ç”»é¢å¤–ã‹ã‚‰ã®ã‚¹ãƒãƒ¼ãƒ³è·é›¢
        spawnFromAllSides: true,             // å…¨æ–¹å‘ã‹ã‚‰ã‚¹ãƒãƒ¼ãƒ³
        preferredSides: [0, 1, 2, 3],        // ã‚¹ãƒãƒ¼ãƒ³æ–¹å‘ï¼ˆ0:ä¸Š, 1:å³, 2:ä¸‹, 3:å·¦ï¼‰

        // ã‚¦ã‚§ãƒ¼ãƒ–
        waveEnabled: false,                  // ã‚¦ã‚§ãƒ¼ãƒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’æœ‰åŠ¹åŒ–
        enemiesPerWave: 10,                  // ã‚¦ã‚§ãƒ¼ãƒ–æ¯ã®æ•µæ•°
        waveCooldown: 5000,                  // ã‚¦ã‚§ãƒ¼ãƒ–é–“ã®ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ï¼ˆmsï¼‰

        // ç‰¹æ®Šã‚¹ãƒãƒ¼ãƒ³
        bossEnabled: false,                  // ãƒœã‚¹ã‚’æœ‰åŠ¹åŒ–
        bossSpawnScore: 5000,                // ãƒœã‚¹å‡ºç¾ã‚¹ã‚³ã‚¢
    },

    // ===== é›£æ˜“åº¦è¨­å®š =====
    difficulty: {
        enabled: true,                       // é›£æ˜“åº¦ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹åŒ–

        // é€Ÿåº¦å¢—åŠ 
        speedIncreaseRate: 0.01,             // æ•µé€Ÿåº¦ã®å¢—åŠ ç‡ï¼ˆæ¯ã‚¹ãƒãƒ¼ãƒ³æ¯ï¼‰
        maxSpeedMultiplier: 2.0,             // æœ€å¤§é€Ÿåº¦å€ç‡

        // é›£æ˜“åº¦ã‚«ãƒ¼ãƒ–
        curveType: 'linear',                 // 'linear', 'exponential', 'step'
        stepInterval: 30000,                 // ã‚¹ãƒ†ãƒƒãƒ—é›£æ˜“åº¦ã®é–“éš”ï¼ˆmsï¼‰

        // åˆ¶é™
        maxDifficultyLevel: 10,              // æœ€å¤§é›£æ˜“åº¦ãƒ¬ãƒ™ãƒ«
        difficultyResetOnDeath: false,       // æ­»äº¡æ™‚ã«é›£æ˜“åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
    },

    // ===== ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼è¨­å®š =====
    multiplayer: {
        enabled: true,                       // ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ã‚’æœ‰åŠ¹åŒ–
        syncInterval: 50,                    // FirebaseåŒæœŸé–“éš”ï¼ˆãƒŸãƒªç§’ï¼‰
        playerTimeout: 30000,                // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆãƒŸãƒªç§’ï¼‰
        showPlayerNames: true,               // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã‚’è¡¨ç¤º
        showPlayerCount: true,               // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³äººæ•°ã‚’è¡¨ç¤º

        // å”åŠ›
        sharedEnemies: false,                // æ•µã‚’å…±æœ‰ã™ã‚‹ã‹ï¼ˆåŒã˜æ•µãŒè¦‹ãˆã‚‹ï¼‰
        friendlyFire: false,                 // å‘³æ–¹ã‚’æ”»æ’ƒã§ãã‚‹ã‹

        // è¦‹ãŸç›®
        remotePlayerOpacity: 0.5,            // ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é€æ˜åº¦
        remotePlayerSize: 40,                // ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚µã‚¤ã‚º
        nameTagOffset: 10,                   // åå‰ã‚¿ã‚°ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆ
    },

    // ===== ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¨­å®š =====
    visual: {
        // ç”»é¢
        backgroundColor: '#050510',          // èƒŒæ™¯è‰²
        showBackground: true,                // èƒŒæ™¯ç”»åƒã‚’è¡¨ç¤º

        // ã‚µã‚¤ã‚º
        playerSize: 50,                      // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚µã‚¤ã‚º
        enemySize: 40,                       // æ•µã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚µã‚¤ã‚º
        remotePlayerSize: 40,                // ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚µã‚¤ã‚º
        remotePlayerOpacity: 0.5,            // ä»–ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é€æ˜åº¦

        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
        particlesEnabled: true,              // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚’æœ‰åŠ¹åŒ–
        particleCount: {
            click: 5,                        // ã‚¯ãƒªãƒƒã‚¯æ™‚
            hit: 8,                          // ãƒ’ãƒƒãƒˆæ™‚
            damage: 10,                      // ãƒ€ãƒ¡ãƒ¼ã‚¸æ™‚
            death: 50,                       // æ­»äº¡æ™‚
        },
        particleLifetime: 30,                // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«å¯¿å‘½
        particleSpeed: 5,                    // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«é€Ÿåº¦

        // ã‚«ãƒ©ãƒ¼
        colors: {
            bullet: '#00f3ff',               // å¼¾ä¸¸
            playerGlow: '#00f3ff',           // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚°ãƒ­ãƒ¼
            enemyGlow: '#ff3333',            // æ•µã‚°ãƒ­ãƒ¼
            hitParticle: '#ff9900',          // ãƒ’ãƒƒãƒˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
            damageParticle: '#ff3333',       // ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
            deathParticle: '#ff00ff',        // æ­»äº¡ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
            clickParticle: '#00f3ff',        // ã‚¯ãƒªãƒƒã‚¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«
        },

        // ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        screenShakeEnabled: false,           // ç”»é¢ã‚·ã‚§ã‚¤ã‚¯
        screenShakeIntensity: 5,             // ã‚·ã‚§ã‚¤ã‚¯å¼·åº¦
        showTargetMarker: true,              // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒãƒ¼ã‚«ãƒ¼è¡¨ç¤º
        targetMarkerColor: 'rgba(0, 243, 255, 0.3)',
    },

    // ===== ã‚µã‚¦ãƒ³ãƒ‰è¨­å®š =====
    sound: {
        enabled: false,                      // ã‚µã‚¦ãƒ³ãƒ‰ã‚’æœ‰åŠ¹åŒ–
        masterVolume: 1.0,                   // ãƒã‚¹ã‚¿ãƒ¼éŸ³é‡
        sfxVolume: 1.0,                      // åŠ¹æœéŸ³éŸ³é‡
        bgmVolume: 0.5,                      // BGMéŸ³é‡

        // åŠ¹æœéŸ³
        shootSound: true,                    // å°„æ’ƒéŸ³
        hitSound: true,                      // ãƒ’ãƒƒãƒˆéŸ³
        damageSound: true,                   // ãƒ€ãƒ¡ãƒ¼ã‚¸éŸ³
        deathSound: true,                    // æ­»äº¡éŸ³
    },

    // ===== UIè¨­å®š =====
    ui: {
        // HUD
        showScore: true,                     // ã‚¹ã‚³ã‚¢è¡¨ç¤º
        showHp: true,                        // HPè¡¨ç¤º
        showOnlineCount: true,               // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³äººæ•°è¡¨ç¤º
        showConnectionStatus: true,          // æ¥ç¶šçŠ¶æ…‹è¡¨ç¤º

        // ã‚¹ã‚³ã‚¢
        scoreAnimated: true,                 // ã‚¹ã‚³ã‚¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        comboEnabled: false,                 // ã‚³ãƒ³ãƒœã‚·ã‚¹ãƒ†ãƒ 
        comboTimeout: 2000,                  // ã‚³ãƒ³ãƒœã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

        // è¨€èª
        language: 'ja',                      // 'ja', 'en'
    },

    // ===== å…¥åŠ›è¨­å®š =====
    input: {
        // ã‚¿ãƒƒãƒ/ãƒã‚¦ã‚¹
        touchEnabled: true,                  // ã‚¿ãƒƒãƒå…¥åŠ›
        mouseEnabled: true,                  // ãƒã‚¦ã‚¹å…¥åŠ›
        tapToMove: true,                     // ã‚¿ãƒƒãƒ—ã§ç§»å‹•

        // ãã®ä»–
        keyboardEnabled: false,              // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ï¼ˆWASDï¼‰
        gamepadEnabled: false,               // ã‚²ãƒ¼ãƒ ãƒ‘ãƒƒãƒ‰å…¥åŠ›
    },

    // ===== ãƒ‡ãƒãƒƒã‚°è¨­å®š =====
    debug: {
        enabled: false,                      // ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
        showHitboxes: false,                 // å½“ãŸã‚Šåˆ¤å®šã‚’è¡¨ç¤º
        showFPS: false,                      // FPSã‚’è¡¨ç¤º
        showEnemyCount: false,               // æ•µæ•°ã‚’è¡¨ç¤º
        showPlayerPos: false,                // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åº§æ¨™ã‚’è¡¨ç¤º
        logSync: false,                      // åŒæœŸãƒ­ã‚°ã‚’è¡¨ç¤º
        logSpawn: false,                     // ã‚¹ãƒãƒ¼ãƒ³ãƒ­ã‚°ã‚’è¡¨ç¤º
        invincible: false,                   // ç„¡æ•µãƒ¢ãƒ¼ãƒ‰
        infiniteAmmo: true,                  // ç„¡é™å¼¾è–¬
        spawnTest: false,                    // ã‚¹ãƒãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆå¤§é‡ã‚¹ãƒãƒ¼ãƒ³ï¼‰
    }
};

// è¨­å®šã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹
if (typeof window !== 'undefined') {
    window.GAME_CONFIG = GAME_CONFIG;

    // ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰æ™‚ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
    if (GAME_CONFIG.debug.enabled) {
        console.log('ğŸ® ã‚²ãƒ¼ãƒ è¨­å®š:', GAME_CONFIG);
    }
}
